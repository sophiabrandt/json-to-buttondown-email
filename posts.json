{"titles":[" TIL: How to Watch YouTube Videos With mpv and Keyboard Shortcuts"],"content":"\n  <p>Hello üëã! Thanks for subscribing.</p>\n  \n  <h2><a href=https://www.rockyourcode.com/til-how-to-watch-youtube-videos-with-mpv-and-keyboard-shortcuts/>TIL: How to Watch YouTube Videos With mpv and Keyboard Shortcuts</a></h2>\n  <p>Published on: 2021-01-22</p>\n  <p>tags: TIL, Unix</p>\n  <blockquote>\n<p>Distraction-free YouTube (and other videos) on your computer</p>\n</blockquote>\n<p>The free YouTube version has ads and suggestions what to watch. Those try to keep the user on YouTube&rsquo;s website.</p>\n<p>Tons of useful videos exist. If you&rsquo;re like me, you&rsquo;ll soon fall into the rabbit hole and spend <em>too</em> much time on YouTube.</p>\n<p>Today I learned how to use a <strong>distraction-free</strong> method of watching YouTube with <strong><a href=\"https://mpv.io/\">mpv</a></strong> and (optionally) <a href=\"https://vimium.github.io/\">Vimium</a>.</p>\n<h2 id=\"necessary-tools\">Necessary Tools</h2>\n<p>You&rsquo;ll need:</p>\n<ul>\n<li><a href=\"https://mpv.io/\">mpv</a></li>\n<li><a href=\"https://github.com/ytdl-org/youtube-dl\">youtube-dl</a></li>\n<li>(optionally) <a href=\"https://vimium.github.io/\">Vimium</a></li>\n</ul>\n<p>Make sure to follow your operating system&rsquo;s instructions to install those programs.</p>\n<p>Vimium is a Google Chrome extension which allows you to navigate websites using keyboard shortcuts. The tool offers you a ‚Äúmouse-less‚Äù experience with Vim key-bindings. This can be a boon because you can browse the web without your hands leaving the keyboard.</p>\n<p>Vimium also has a <a href=\"https://addons.mozilla.org/en-GB/firefox/addon/vimium-ff/\">Firefox version</a>.</p>\n<h2 id=\"how-to-use-mpv\">How to Use mpv</h2>\n<p><a href=\"https://mpv.io/\">mpv</a> is a free and open source media player. You can start it with the terminal.</p>\n<p>The easiest command is this one (run in your shell):</p>\n<div class=\"highlight\"><pre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-bash\" data-lang=\"bash\">mpv https://www.youtube.com/watch?v<span style=\"color:#f92672\">=</span>FsQuGplQvrw\n</code></pre></div><p>mpv starts streaming the video, thanks to its integration with <a href=\"https://github.com/ytdl-org/youtube-dl\">youtube-dl</a>.</p>\n<p>That works, but let&rsquo;s make it better.</p>\n<h2 id=\"integrating-vimium-and-mpv\">Integrating Vimium and mpv</h2>\n<p>Create a new file called <code>youtube-watch.sh</code> (or whatever you&rsquo;d like to call it) in your <code>$PATH</code>.</p>\n<div class=\"highlight\"><pre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-sh\" data-lang=\"sh\"><span style=\"color:#75715e\">#!/bin/bash\n</span><span style=\"color:#75715e\"></span><span style=\"color:#75715e\"># originally by Kris Occhipinti</span>\n<span style=\"color:#75715e\"># https://www.youtube.com/watch?v=FsQuGplQvrw</span>\n\nnotify-send -t <span style=\"color:#ae81ff\">3000</span> <span style=\"color:#e6db74\">&#34;Playing Video&#34;</span> <span style=\"color:#e6db74\">&#34;</span><span style=\"color:#66d9ef\">$(</span>xclip -o<span style=\"color:#66d9ef\">)</span><span style=\"color:#e6db74\">&#34;</span>;\nmpv --ytdl-format<span style=\"color:#f92672\">=</span>bestvideo+bestaudio/best --fs --speed<span style=\"color:#f92672\">=</span>2.5 --af<span style=\"color:#f92672\">=</span>rubberband<span style=\"color:#f92672\">=</span>pitch-scale<span style=\"color:#f92672\">=</span>0.981818181818181 <span style=\"color:#e6db74\">&#34;</span><span style=\"color:#66d9ef\">$(</span>xclip -o<span style=\"color:#66d9ef\">)</span><span style=\"color:#e6db74\">&#34;</span>\n</code></pre></div><p>Don&rsquo;t forget to make it executable:</p>\n<div class=\"highlight\"><pre style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4\"><code class=\"language-sh\" data-lang=\"sh\">chmod u+x youtube-watch.sh\n</code></pre></div><p>The script uses <a href=\"https://manpages.ubuntu.com/manpages/xenial/man1/notify-send.1.html\">notify-send</a> and <a href=\"https://github.com/astrand/xclip\">xclip</a>. notify-send is small utility that can send desktop notifications. xclip can use your clipboard to pass the copied link to mpv.</p>\n<p>MacOS users might use <a href=\"https://github.com/zzzeyez/Xanthia\">xanthia</a> as a drop-in replacement for notify-send. Replace xclip with MacOS&rsquo;s native pbpaste.</p>\n<p>Windows users can use <a href=\"https://github.com/vaskovsky/notify-send\">vaskovsky/notify-send</a>. <a href=\"https://chocolatey.org/packages/pasteboard\">Pasteboard</a> looks like an alternative for pbcopy/pbpaste, so it should also work as an xclip stand-in in the above script.</p>\n<p>Let&rsquo;s take a look at the mpv command in the bash utility:</p>\n<ul>\n<li><code>--ytdl-format</code>: selects which format to stream. You can look at <a href=\"https://github.com/ytdl-org/youtube-dl/blob/master/README.md#format-selection\">youtube-dl&rsquo;s documentation</a> for more info. We use the best format available. This also works for Vimeo or other services that can interface with youtube-dl.</li>\n<li><code>--fs</code>: starts mpv in full-screen mode.</li>\n<li><code>--speed=2.5</code>: automatically starts at 2.5 speed (adjust to your liking).</li>\n<li><code>--af=rubberband=pitch-scale=0.981818181818181</code>: if you speed up a video, you want to retain the pitch. Otherwise the video begins to sound squeaky. I use the <code>rubberband</code> utility (comes with mpv installation) because it gave me the best quality. See this <a href=\"https://github.com/mpv-player/mpv/issues/7792\">GitHub issue for more info</a>.</li>\n</ul>\n<p>You can bind your shell script to a keyboard shortcut. I use <a href=\"https://i3wm.org/\">i3</a> and use my <code>mod</code> key with <code>y</code>.</p>\n<p>Use Vimium to copy a YouTube link. Unfortunately, you&rsquo;ll still have to visit YouTube&rsquo;s website.</p>\n<p>Hit <code>yf</code> to open Vimium&rsquo;s context menu. Select the entry you want to watch. This will copy the link into your clipboard.</p>\n<p>Then use your key-binding for the youtube script (in my case <code>mod+y</code>). Voil√†.</p>\n<h2 id=\"credits\">Credits</h2>\n<p>My blog post uses a modified version of the steps from the below video by Kris Occhipinti:</p>\n<p><strong><a href=\"https://www.youtube.com/watch?v=FsQuGplQvrw\">Watching Youtube Videos with MPV Youtube dl Vimium on Linux</a></strong>\n<a href=\"https://www.youtube.com/watch?v=FsQuGplQvrw\" title=\"Watching Youtube Videos with MPV Youtube dl Vimium on Linux\"><img src=\"https://img.youtube.com/vi/FsQuGplQvrw/0.jpg\" alt=\"Watching Youtube Videos with MPV Youtube dl Vimium on Linux\"></a></p>\n\n  <hr />\n  <p>Thank you for reading my blog posts.</p>\n  <p>Don't hesitate to reach out via <a href=\"mailto:hi@rockyourcode.com\">email</a> or <a href=\"https://twitter.com/hisophiabrandt\">Twitter</a>!\n  "}